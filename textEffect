<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src = "lib/easeljs.min.js"></script>
</head>
<body>
<canvas id = "gameView" width="400" height = "400"  style="border: black solid 1px;"></canvas>
</body>
<script src="Text.js"></script>
</html>

//js文档

/**
 * Created by Administrator on 2018/3/15.
 */
var canvas;
var stage;
var count=0;

canvas = document.getElementById("gameView");
stage = new createjs.Stage(canvas);

text = new createjs.Text("text on the canvas....0!","36px Arial","#FFF");
text.x = 10;
text.y = 10;
text.rotation = 20;
stage.addChild(text);


//添加一个背景去吃承载这个文本,旋转角度一直，与text形成重叠效果
rect = new createjs.Shape();
rect.x = text.x;
rect.y = text.y;
rect.rotation = text.rotation;
stage.addChildAt(rect,0);
createjs.Ticker.addEventListener("tick",handlertick);
createjs.Ticker.setFPS(100);

function handlertick(e){
    count++;
    text.text = "text on the Canvas ... "+count+"!";
    //clear实现清除原来的宽度使得它的宽度可以随着text的数字变化重新获得宽度。
    rect.graphics.clear().beginFill("#f00").drawRect(-10,-10,text.getMeasuredWidth()+20,50);
    stage.update(e)
}
